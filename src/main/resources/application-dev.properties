# --- H2 in-memory DB (MySQL compatibility so your datetimes work) ---
spring.datasource.url=jdbc:h2:mem:events;MODE=MySQL;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# --- JPA / Hibernate ---
spring.jpa.hibernate.ddl-auto=create
# Quote all identifiers so tables named "user", "event", etc. work:
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
# H2 dialect is auto-detected; don't set hibernate.dialect
# (that warning you saw goes away if we don't set it)

# --- SQL init: run data after JPA creates tables ---
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true
# Load a dev-only seed file (see step 2):
spring.sql.init.data-locations=classpath:data.sql

# --- H2 console (handy) ---
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# --- CORS for local dev + your S3 site (optional) ---
app.allowed-origins=http://localhost:5173,http://neighbourhood-tech-frontend.s3-website-us-east-1.amazonaws.com

# --- Nice dev logs (optional) ---
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
